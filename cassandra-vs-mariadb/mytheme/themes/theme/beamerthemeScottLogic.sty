\ProvidesPackage{beamerthemeScottLogic}[2017/02/01]
\usepackage{lmodern}
\mode<presentation>

% Our theme is based on these
\usetheme{Rochester}
\useoutertheme{infolines}
\usecolortheme[named=Black]{structure}

% Footer / header sizes
\newlength{\headerheight}
\newlength{\footerheight}
\newlength{\imagefooterheight}
\setlength{\headerheight}{4.5ex}
\setlength{\imagefooterheight}{2.5ex}
\setlength{\footerheight}{2.5ex}

% colour definition from beameroutertheminfolines.sty
\setbeamercolor{scottlogic@ftcolor}{parent=palette secondary}

% Headline
\setbeamertemplate{headline}{%
  \ifnum\c@framenumber>1%
  \leavevmode%
  \usebeamerfont{structure}%
  \begin{beamercolorbox}[wd=\paperwidth,ht=\headerheight,dp=0ex]{scottlogic@ftcolor}%
    \vbox to\headerheight%
    {%
      \vfil%
      \hspace{4mm}%
      \large%
      \ifx\insertsectionhead\@empty%
      {%
        \textbf{\insertframetitle}%
      }%
      \else%
      {%
        \textbf{\insertsectionhead}%
        \hfill%
        {%
          \small%
          \insertframetitle%
          \hspace{4mm}
        }%
      }%
      \fi%
      \vfil%
    }%
  \end{beamercolorbox}%
  \fi%
}

% Scott Logic footline
\setbeamertemplate{footline}{%
  \leavevmode%
  \usebeamerfont{structure}%
  \begin{beamercolorbox}[wd=\paperwidth,ht=\footerheight,dp=0ex]{scottlogic@ftcolor}%
    \vbox to\footerheight%
    {%
      \includegraphics[width=\paperwidth,height=\imagefooterheight]{scott-logic-footer.png}%
      \vskip-\imagefooterheight%
      \vfil%
      \hfill%
      {%
        \Tiny%
        \insertframenumber/\inserttotalframenumber%
        \hspace{4mm}
      }%
      \vfil%
    }%
  \end{beamercolorbox}%
}

\setbeamertemplate{items}[ball]
\setbeamertemplate{blocks}[rounded][shadow=false]

% don't show navigation buttons
\setbeamertemplate{navigation symbols}{}

% Final slide
\setbeamertemplate{endpage}{%
  \begin{frame}[plain]% No header or footer
    \makebox[\linewidth]{%
      \includegraphics[width=\paperwidth,height=\paperheight]{full-scott-logic.png}%
    }
  \end{frame}
}

\mode<all>
